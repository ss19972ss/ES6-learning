<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            //可迭代协议允许 JavaScript 对象定义或定制它们的迭代行为，例如，在一个 for..of 结构中，哪些值可以被遍历到。
            //一些内置类型同时是内置可迭代对象，并且有默认的迭代行为，比如 Array 或者 Map，而其他内置类型则不是（比如 Object)）
            const obj = {
                name:"3-2",
                students:["a","b","c"],
                /* 要成为可迭代对象， 一个对象必须实现 @@iterator 方法。
                这意味着对象（或者它原型链上的某个对象）必须有一个键为 @@iterator 的属性，可通过常量 Symbol.iterator 访问该属性： 
                */
                [Symbol.iterator]:function(){  
                    let index = 0
                    let _this = this
                    return{
                        next:function(){
                            if(index<_this.students.length){
                                const res = {value:_this.students[index],done:false}
                                index++
                                return res
                            }
                            else{
                                return {value:undefined,done:true}
                            }
                        }
                    }
                }
            }
            for(let i of obj){console.log(i)}
        </script>
    </body>
</html>